<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Target Material Design Bootstrap Admin Template</title>
	
	<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
	<link rel="stylesheet" href="/assets/materialize/css/materialize.min.css" media="screen,projection" />
    <!-- Bootstrap Styles-->
    <link href="/assets/css/bootstrap.css" rel="stylesheet" />
    <!-- FontAwesome Styles-->
    <link href="/assets/css/font-awesome.css" rel="stylesheet" />
    <!-- Morris Chart Styles-->
    <link href="/assets/js/morris/morris-0.4.3.min.css" rel="stylesheet" />
    <!-- Custom Styles-->
    <link href="/assets/css/custom-styles.css" rel="stylesheet" />
    <!-- Google Fonts-->
    <link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css' />
    <link rel="stylesheet" href="/assets/js/Lightweight-Chart/cssCharts.css">
</head>
<body>
    <div id="wrapper">
         <nav class="navbar navbar-default top-navbar" role="navigation">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".sidebar-collapse">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand waves-effect waves-dark" href="/EnterToWelcome"><i class="large material-icons">track_changes</i> <strong>伯乐人才</strong></a>
				
		<div id="sideNav" href=""><i class="material-icons dp48">toc</i></div>
            </div>

            <ul class="nav navbar-top-links navbar-right"> 
				<li><a class="dropdown-button waves-effect waves-dark" href="#!" data-activates="dropdown4"><i class="fa fa-envelope fa-fw"></i> <i class="material-icons right">arrow_drop_down</i></a></li>				
				<li><a class="dropdown-button waves-effect waves-dark" href="#!" data-activates="dropdown3"><i class="fa fa-tasks fa-fw"></i> <i class="material-icons right">arrow_drop_down</i></a></li>
				<li><a class="dropdown-button waves-effect waves-dark" href="#!" data-activates="dropdown2"><i class="fa fa-bell fa-fw"></i> <i class="material-icons right">arrow_drop_down</i></a></li>
				  <li><a class="dropdown-button waves-effect waves-dark" href="#!" data-activates="dropdown1"><i class="fa fa-user fa-fw"></i> <b>{{companyName}}</b> <i class="material-icons right">arrow_drop_down</i></a></li>
            </ul>
        </nav>
		<!-- Dropdown Structure -->
<ul id="dropdown1" class="dropdown-content">
<li><a href="#"><i class="fa fa-user fa-fw"></i> My Profile</a>
</li>
<li><a href="#"><i class="fa fa-gear fa-fw"></i> Settings</a>
</li> 
<li><a href="#"><i class="fa fa-sign-out fa-fw"></i> Logout</a>
</li>
</ul>
<ul id="dropdown2" class="dropdown-content w250">
  <li>
                            <a href="#">
                                <div>
                                    <i class="fa fa-comment fa-fw"></i> New Comment
                                    <span class="pull-right text-muted small">4 min</span>
                                </div>
                            </a>
                        </li>
                        <li class="divider"></li>
                        <li>
                            <a href="#">
                                <div>
                                    <i class="fa fa-twitter fa-fw"></i> 3 New Followers
                                    <span class="pull-right text-muted small">12 min</span>
                                </div>
                            </a>
                        </li>
                        <li class="divider"></li>
                        <li>
                            <a href="#">
                                <div>
                                    <i class="fa fa-envelope fa-fw"></i> Message Sent
                                    <span class="pull-right text-muted small">4 min</span>
                                </div>
                            </a>
                        </li>
                        <li class="divider"></li>
                        <li>
                            <a href="#">
                                <div>
                                    <i class="fa fa-tasks fa-fw"></i> New Task
                                    <span class="pull-right text-muted small">4 min</span>
                                </div>
                            </a>
                        </li>
                        <li class="divider"></li>
                        <li>
                            <a href="#">
                                <div>
                                    <i class="fa fa-upload fa-fw"></i> Server Rebooted
                                    <span class="pull-right text-muted small">4 min</span>
                                </div>
                            </a>
                        </li>
                        <li class="divider"></li>
                        <li>
                            <a class="text-center" href="#">
                                <strong>See All Alerts</strong>
                                <i class="fa fa-angle-right"></i>
                            </a>
                        </li>
</ul>
<ul id="dropdown3" class="dropdown-content dropdown-tasks w250">
<li>
		<a href="#">
			<div>
				<p>
					<strong>Task 1</strong>
					<span class="pull-right text-muted">60% Complete</span>
				</p>
				<div class="progress progress-striped active">
					<div class="progress-bar progress-bar-success" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: 60%">
						<span class="sr-only">60% Complete (success)</span>
					</div>
				</div>
			</div>
		</a>
	</li>
	<li class="divider"></li>
	<li>
		<a href="#">
			<div>
				<p>
					<strong>Task 2</strong>
					<span class="pull-right text-muted">28% Complete</span>
				</p>
				<div class="progress progress-striped active">
					<div class="progress-bar progress-bar-info" role="progressbar" aria-valuenow="28" aria-valuemin="0" aria-valuemax="100" style="width: 28%">
						<span class="sr-only">28% Complete</span>
					</div>
				</div>
			</div>
		</a>
	</li>
	<li class="divider"></li>
	<li>
		<a href="#">
			<div>
				<p>
					<strong>Task 3</strong>
					<span class="pull-right text-muted">60% Complete</span>
				</p>
				<div class="progress progress-striped active">
					<div class="progress-bar progress-bar-warning" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: 60%">
						<span class="sr-only">60% Complete (warning)</span>
					</div>
				</div>
			</div>
		</a>
	</li>
	<li class="divider"></li>
	<li>
		<a href="#">
			<div>
				<p>
					<strong>Task 4</strong>
					<span class="pull-right text-muted">85% Complete</span>
				</p>
				<div class="progress progress-striped active">
					<div class="progress-bar progress-bar-danger" role="progressbar" aria-valuenow="85" aria-valuemin="0" aria-valuemax="100" style="width: 85%">
						<span class="sr-only">85% Complete (danger)</span>
					</div>
				</div>
			</div>
		</a>
	</li>
	<li class="divider"></li>
	<li>
</ul>   
<ul id="dropdown4" class="dropdown-content dropdown-tasks w250 taskList">
  <li>
                                <div>
                                    <strong>John Doe</strong>
                                    <span class="pull-right text-muted">
                                        <em>Today</em>
                                    </span>
                                </div>
                                <p>Lorem Ipsum has been the industry's standard dummy text ever since the 1500s...</p>
                            </a>
                        </li>
                        <li class="divider"></li>
                        <li>
                                <div>
                                    <strong>John Smith</strong>
                                    <span class="pull-right text-muted">
                                        <em>Yesterday</em>
                                    </span>
                                </div>
                                <p>Lorem Ipsum has been the industry's standard dummy text ever since an kwilnw...</p>
                            </a>
                        </li>
                        <li class="divider"></li>
                        <li>
                            <a href="#">
                                <div>
                                    <strong>John Smith</strong>
                                    <span class="pull-right text-muted">
                                        <em>Yesterday</em>
                                    </span>
                                </div>
                                <p>Lorem Ipsum has been the industry's standard dummy text ever since the...</p>
                            </a>
                        </li>
                        <li class="divider"></li>
                        <li>
                            <a class="text-center" href="#">
                                <strong>Read All Messages</strong>
                                <i class="fa fa-angle-right"></i>
                            </a>
                        </li>
</ul>  
	   <!--/. NAV TOP  -->
        <!--/. NAV TOP  -->
        <nav class="navbar-default navbar-side" role="navigation">
            <div class="sidebar-collapse">
                <ul class="nav" id="main-menu">
    
                    <li>
                        <a class="waves-effect waves-dark" href="/EnterToWelcome"><i class="fa fa-dashboard"></i> 欢迎</a>
                    </li>
                    <li>
                        <a href="#" class="waves-effect waves-dark"><i class="fa fa-sitemap"></i>人才档案<span class="fa arrow"></span></a>
                        <ul class="nav nav-second-level ">
                            <li>
                                <a href="/EnterToTalentQuery">人才查询</a>
                            </li>
                            <li>
                                <a href="/EnterToTalentCompare">人才比较</a>
                            </li>
                        </ul>
                    </li>
                    <li>
                        <a href="#" class="waves-effect waves-dark"><i class="fa fa-sitemap"></i>员工管理<span class="fa arrow"></span></a>
                        <ul class="nav nav-second-level collapse in">
                            <li>
                                <a href="/EnterToQueryStaff">查询员工</a>
                            </li>
                            <li>
                                <a href="/EnterToAuditStaff">审核员工</a>
                            </li>
                            <li>
                                <a href="/EnterToAddEvaluation" class="active-menu">添加评价</a>
                            </li>
                        </ul>
                    </li>
                    <li>
                        <a href="#" class="waves-effect waves-dark"><i class="fa fa-sitemap"></i>公司信息<span class="fa arrow"></span></a>
                        <ul class="nav nav-second-level">
                            <li>
                                <a href="/EnterToCompanyInformation">公司信息操作</a>
                            </li>
                            <li>
                                <a href="/EnterToCompanyCertification">公司认证</a>
                            </li>
                        </ul>
                    </li>
                    <li>
                        <a href="#" class="waves-effect waves-dark"><i class="fa fa-sitemap"></i>任务管理<span
                                class="fa arrow"></span></a>
                        <ul class="nav nav-second-level">
                            <li>
                                <a href="/EnterToMission">任务详情</a>
                            </li>

                        </ul>
                    </li>
                </ul>
    
            </div>
    
        </nav>
        <!-- /. NAV SIDE  -->
        <div id="page-wrapper" >
			  <div class="header"> 
                        <h1 class="page-header">
                            添加评价
                        </h1>
						<ol class="breadcrumb">
					  <li><a href="#">Home</a></li>
					  <li><a href="#">Tabs & Panels</a></li>
					  <li class="active">Data</li>
					</ol> 
									
		    </div>
		
            <div id="page-inner"> 
                                 
            <div class="row">
                <div class="col-md-4 col-sm-4">
                   <div class="card teal">
						<div class="card-content white-text">
						  <span class="card-title">每月例行考核</span>
						  <p>我们希望Hr每个月能对所有员工的工作情况进行一个评分,评分分为5个等级,,可以点击下方卡片的链接进入评价页面.</p>
						</div>
						<div class="card-action">
						  <!--<a href="#">点我登记员工的考核情况</a>-->
                            <button class="btn btn-info" @click="changeGradeFlag">点我登记员工的考核情况</button>
						</div>
					  </div>
                </div>
                <div class="col-md-4 col-sm-4">
                   <div class="card">
						<div class="card-content">
						  <span class="card-title">员工获奖情况</span>
						  <p>我们希望员工为公司做出的重大贡献能被登记在册,因此员工取得了成就的时候,Hr可以点击下方的链接对员工的贡献进行登记</p>
						</div>
						<div class="card-action">

                            <button class="btn btn-default" @click="changeAchievementFlag">点我登记员工的获奖情况</button>
						</div>
					  </div>
                </div>
                <div class="col-md-4 col-sm-4">
                        <div class="card blue-grey darken-1">
						<div class="card-content white-text">
						  <span class="card-title">员工违纪情况</span>
						  <p>不只是贡献,任何人都可能犯下一些错误,我们同样希望Hr能对员工的违纪情况进行登记,可以点击下方链接进行违纪情况登记</p>
						</div>
						<div class="card-action">

                            <button class="btn btn-danger" @click="changeMistakeFlag">点我登记员工的违纪情况</button>
						</div>
					  </div>
                </div>
            </div>

                <div class="row" v-show="flagGrade">
                    <div class="col-md-12">
                        <!-- Advanced Tables -->
                        <div class="card">
                            <div class="card-action">
                                员工考核情况登记
                            </div>
                            <div class="card-content">
                                <div class="table-responsive">
                                    <table class="table table-striped table-bordered table-hover" >
                                        <thead>
                                        <tr>
                                            <th class="center">姓名</th>

                                            <th class="center">性别</th>
                                            <th class="center">出生日期</th>
                                            <th class="center">学历</th>
                                            <th class="center">专业</th>
                                            <th class="center">手机号</th>
                                            <th class="center">本月是否已考核</th>
                                            <th class="center">登记考核情况</th>

                                            <!--<th>CSS grade</th>-->
                                        </tr>
                                        </thead>
                                        <tbody>

                                        <tr class="active" v-for="(item,index) in workers">

                                            <td class="center">{{item.name}}</td>

                                            <td class="center">{{item.sex}}</td>
                                            <td class="center">{{item.birth}}</td>
                                            <td class="center">{{item.education}}</td>
                                            <td class="center">{{item.major}}</td>
                                            <td class="center">{{item.phonenumber}}</td>
                                            <td class="center">{{item.isevaluate=='0'?'否':'是'}}</td>

                                            <td class="center" >
                                                <button v-if="item.isevaluate==1"  @click="detailInfo(item.id)" class="btn btn-info disabled" data-toggle="modal" data-target="#myModal" >已登记</button>
                                                <button  v-else  @click="getWorkerIdName(item.id,item.name)" class="btn btn-info" data-toggle="modal" data-target="#myModal" >开始登记</button>

                                            </td>
                                        </tr>

                                        </tr>

                                        </tbody>

                                    </table>
                                </div>

                            </div>
                        </div>


                    </div>
                </div>

                <div class="row" v-show="flagAchievement">
                    <div class="col-md-12">
                        <!-- Advanced Tables -->
                        <div class="card">
                            <div class="card-action">
                                员工获奖情况登记
                            </div>
                            <div class="card-content">
                                <div class="table-responsive">
                                    <table class="table table-striped table-bordered table-hover" id="dataTables-example">
                                        <thead>
                                        <tr class="success">
                                            <th>姓名</th>

                                            <th class="center">性别</th>
                                            <th class="center">出生日期</th>
                                            <th class="center">学历</th>
                                            <th class="center">专业</th>
                                            <th class="center">手机号</th>
                                            <th class="center">登记获奖情况</th>

                                            <!--<th>CSS grade</th>-->
                                        </tr>
                                        </thead>
                                        <tbody>

                                        <tr class="warning" v-for="(item,index) in workers">

                                            <td class="center">{{item.name}}</td>

                                            <td class="center">{{item.sex}}</td>
                                            <td class="center">{{item.birth}}</td>
                                            <td class="center">{{item.education}}</td>
                                            <td class="center">{{item.major}}</td>
                                            <td class="center">{{item.phonenumber}}</td>
                                            <td class="center"><button  @click="getWorkerIdName(item.id,item.name)"  class="btn btn-circle" data-toggle="modal" data-target="#myModal2" >开始登记</button></td>
                                        </tr>

                                        </tr>

                                        </tbody>

                                    </table>
                                </div>

                            </div>
                        </div>


                    </div>
                </div>

                <div class="row" v-show="flagMistake">
                    <div class="col-md-12">
                        <!-- Advanced Tables -->
                        <div class="card">
                            <div class="card-action">
                                员工违纪情况登记
                            </div>
                            <div class="card-content">
                                <div class="table-responsive">
                                    <table class="table table-striped table-bordered table-hover" id="dataTables-example2">
                                        <thead>
                                        <tr class="warning">
                                            <th>姓名</th>

                                            <th class="center">性别</th>
                                            <th class="center">出生日期</th>
                                            <th class="center">学历</th>
                                            <th class="center">专业</th>
                                            <th class="center">手机号</th>
                                            <th class="center">登记违纪情况</th>

                                            <!--<th>CSS grade</th>-->
                                        </tr>
                                        </thead>
                                        <tbody>

                                        <tr class="success" v-for="(item,index) in workers">

                                            <td class="center">{{item.name}}</td>

                                            <td class="center">{{item.sex}}</td>
                                            <td class="center">{{item.birth}}</td>
                                            <td class="center">{{item.education}}</td>
                                            <td class="center">{{item.major}}</td>
                                            <td class="center">{{item.phonenumber}}</td>
                                            <td class="center"><button @click="getWorkerIdName(item.id,item.name)" class="btn btn-danger" data-toggle="modal" data-target="#myModal3" >开始登记</button></td>
                                        </tr>

                                        </tr>

                                        </tbody>

                                    </table>
                                </div>

                            </div>
                        </div>


                    </div>
                </div>


                <div class="modal fade" id="myModal"  tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
                    <!-- 模态的对话框 -->
                    <div class="modal-dialog model-sm" >
                        <!-- 内容部分 -->
                        <div class="modal-content">
                            <!-- 头部 -->
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal"
                                        aria-hidden="true">&times;</button>
                                <h4 class="modal-title">绩效评定</h4>
                            </div>
                            <!-- 身体 -->
                            <div class="modal-body">请选择{{workerName}}本月的绩效等级

                                <p>
                                    <input type="radio" id="male1" name="sex" value="1" v-model="content">
                                    <label for="male1">
                                        1
                                    </label>
                                </p>
                                <p>
                                    <input type="radio" id="male2" name="sex" value="2" v-model="content">
                                    <label for="male2">
                                        2
                                    </label>
                                </p>
                                <p>
                                    <input type="radio" id="male3" name="sex" value="3" v-model="content">
                                    <label for="male3">
                                        3
                                    </label>
                                </p>
                                <p>
                                    <input type="radio" id="male4" name="sex" value="4" v-model="content">
                                    <label for="male4">
                                        4
                                    </label>
                                </p>
                                <p>
                                    <input type="radio" id="male5" name="sex" value="5" v-model="content">
                                    <label for="male5">
                                        5
                                    </label>
                                </p>


                                <h5>您选择的绩效等级是：{{content}}</h5>

                            </div>
                            <!-- 尾部 -->
                            <div class="modal-footer">
                                <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
                                <button type="button" class="btn btn-primary"  data-dismiss="modal" @click="addGrade">确认</button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal fade" id="myModal2"  tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
                    <!-- 模态的对话框 -->
                    <div class="modal-dialog model-sm" >
                        <!-- 内容部分 -->
                        <div class="modal-content">
                            <!-- 头部 -->
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal"
                                        aria-hidden="true">&times;</button>
                                <h4 class="modal-title">获奖情况登记</h4>
                            </div>
                            <!-- 身体 -->
                            <div class="modal-body">请为该员工登记获奖情况

                                <form class="col s12">
                                    <div class="row">
                                        <div class="input-field col s12">
                                            <i class="material-icons prefix">account_circle</i>
                                            <input id="icon_prefix" type="text" class="validate" disabled="true">
                                            <label for="icon_prefix">{{workerName}}</label>
                                        </div>

                                    </div>
                                </form>


                                <form class="col s12">
                                    <div class="row">
                                        <div class="input-field col s12">
                                            <textarea id="textarea1" class="materialize-textarea" v-model="achievementContent"></textarea>
                                            <label for="textarea1">获奖情况说明或做出的贡献</label>
                                        </div>
                                    </div>
                                </form>
                                </form>





                            </div>
                            <!-- 尾部 -->
                            <div class="modal-footer">
                                <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
                                <button type="button" class="btn btn-primary"  data-dismiss="modal" @click="addAchievement">确认</button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal fade" id="myModal3"  tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
                    <!-- 模态的对话框 -->
                    <div class="modal-dialog model-sm" >
                        <!-- 内容部分 -->
                        <div class="modal-content">
                            <!-- 头部 -->
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal"
                                        aria-hidden="true">&times;</button>
                                <h4 class="modal-title">违纪情况登记</h4>
                            </div>
                            <!-- 身体 -->
                            <div class="modal-body">请为该员工登记违纪情况

                                <form class="col s12">
                                    <div class="row">
                                        <div class="input-field col s12">
                                            <i class="material-icons prefix">account_circle</i>
                                            <input id="icon_prefix2" type="text" class="validate" disabled="true">
                                            <label for="icon_prefix2">{{workerName}}</label>
                                        </div>

                                    </div>
                                </form>


                                <form class="col s12">
                                    <div class="row">
                                        <div class="input-field col s12">
                                            <textarea id="textarea2" class="materialize-textarea" v-model="mistakeContent"></textarea>
                                            <label for="textarea2">填写违纪情况说明</label>
                                        </div>
                                    </div>
                                </form>
                                </form>


                            </div>
                            <!-- 尾部 -->
                            <div class="modal-footer">
                                <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
                                <button type="button" class="btn btn-primary"  data-dismiss="modal" @click="addMistake">确认</button>
                            </div>
                        </div>
                    </div>
                </div>


        </div>
			 <!-- /. PAGE INNER  -->
            </div>
         <!-- /. PAGE WRAPPER  -->
        </div>
     <!-- /. WRAPPER  -->
    <!-- JS Scripts-->
    <!-- jQuery Js -->
    <script src="/assets/js/jquery-1.10.2.js"></script>
	
	<!-- Bootstrap Js -->
    <script src="/assets/js/bootstrap.min.js"></script>
	
	<script src="/assets/materialize/js/materialize.min.js"></script>
	
    <!-- Metis Menu Js -->
    <script src="/assets/js/jquery.metisMenu.js"></script>
    <!-- Morris Chart Js -->
    <script src="/assets/js/morris/raphael-2.1.0.min.js"></script>
    <script src="/assets/js/morris/morris.js"></script>
	
	
	<script src="/assets/js/easypiechart.js"></script>
	<script src="/assets/js/easypiechart-data.js"></script>
	
	 <script src="/assets/js/Lightweight-Chart/jquery.chart.js"></script>
	
    <!-- Custom Js -->
    <script src="/assets/js/custom-scripts.js"></script>
    <script src="/assets/js/vue.js"></script>
    <script src="/assets/js/axios.min.js"></script>
	<!--<script>
	$(document).ready(function(){
	 $('ul.tabs').tabs();
		$('.collapsible').collapsible({
		  accordion: false, // A setting that changes the collapsible behavior to expandable instead of the default accordion style
		  onOpen: function(el) { alert('Open'); }, // Callback for Collapsible open
		  onClose: function(el) { alert('Closed'); } // Callback for Collapsible close
		}
	  );
	});
	</script>-->
   <script>
       var app=new Vue({
           el:"#wrapper",
           data:{
               workers:[],//
               companyId:"",//公司id
               workerId:"",//按钮选中的员工的id
               workerName:"",//按钮选中的员工name
               flagGrade:false,
               flagAchievement:false,
               flagMistake:false,
               content: '',//绩效等级
               achievementContent:"",//获奖内容
               mistakeContent:"",//违纪情况
               companyName:""

           },

           methods:{
               getCompanyName:function () {
                   var that=this
                   axios.get("/GlobalVariable/GetCompanyName").then(
                       function (response) {
                           that.companyName=response.data;
                       },
                       function (err) {
                           console.log(err)
                       }
                   )
               },
               changeGradeFlag:function () {
                   var that=this
                   that.flagGrade=true
                   that.flagAchievement=false
                   that.flagMistake=false
               },
               changeAchievementFlag:function () {
                   var that=this
                   that.flagGrade=false
                   that.flagAchievement=true
                   that.flagMistake=false
               },
               changeMistakeFlag:function () {
                   var that=this
                   that.flagGrade=false
                   that.flagAchievement=false
                   that.flagMistake=true
               },
               getWorkerIdName:function(workerId,workerName){
                   this.workerId=workerId;
                   this.workerName=workerName
                   console.log("选中的员工id为:"+this.workerId)
                   console.log("选中的员工name为:"+this.workerName)
               },
               addGrade:function(){//每个月，每个员工都要添加一次绩效评价，添加完成之后，Grade表会增加一条记录(workerId和companyId决定employId)，worker表会将该员工的isevaluate置为1
                   var that=this
                   axios.get("/staff/addGrade",{
                       params:{
                           workerId:that.workerId,
                           companyId:that.companyId,
                           content:that.content,

                       }
                   }).then(
                       function (response) {

                           console.log("添加考核成功")
                           console.log(response.data )
                           alert("添加考核情况成功")
                           that.getWorkers();
                       },
                       function (err) {
                           console.log(err)

                       }
                   )
               },
               addAchievement:function(){//为员工添加获奖情况，添加完成之后，achievement表会增加一条记录(workerId和companyId决定employId)
                   var that=this
                   console.log(that.achievementContent)
                   if(that.achievementContent.length<5)
                   {
                       alert("不能少于五个字，请重新输入")
                   }
                   else if(that.achievementContent.length<30)
                   {
                       axios.get("/staff/addAchievement",{
                           params:{
                               workerId:that.workerId,
                               companyId:that.companyId,
                               achievementContent:that.achievementContent,

                           }
                       }).then(
                           function (response) {

                               console.log("添加获奖情况成功")
                               console.log(response.data )
                               alert("添加获奖情况成功")
                               //that.getWorkers();
                           },
                           function (err) {
                               console.log(err)

                           }
                       )
                   }
                   else
                       alert("不能多于30个字，请重新输入")

               },
               addMistake:function(){//为员工添加违纪情况，添加完成之后，mistake表会增加一条记录(workerId和companyId决定employId)
                   var that=this
                   console.log(that.mistakeContent)
                   if(that.mistakeContent.length<5)
                   {
                       alert("不能少于五个字，请重新输入")
                   }
                   else if(that.mistakeContent.length<30)
                   {
                       axios.get("/staff/addMistake",{
                           params:{
                               workerId:that.workerId,
                               companyId:that.companyId,
                               mistakeContent:that.mistakeContent,

                           }
                       }).then(
                           function (response) {

                               console.log("添加违纪情况成功")
                               console.log(response.data )
                               alert("添加违纪情况成功")
                               //that.getWorkers();
                           },
                           function (err) {
                               console.log(err)

                           }
                       )
                   }
                   else
                       alert("不能多于30个字，请重新输入")
               },
               getWorkers:function () {//从cookie中读取公司id,并且获取该公司的员工
                   var that=this

                   //that.Initial();
                   axios.get("/GlobalVariable/GetCompanyId").then(
                       function (response) {

                           console.log("QueryStaff.html页面读取cookie中的id:"+response.data)
                           that.companyId=response.data
                           axios.get("/staff/GetAllWorkers",{
                               params:{
                                   CompanyId:response.data,
                               }
                           }).then(
                               function (response) {
                                   console.log("读取Workers:"+response)
                                   console.log(response.data)
                                   that.workers=response.data;
                                   //that.Initial();//读取了数据以后调用方法

                               },
                               function (err) {
                                   console.log(err)

                               }
                           )
                       },
                       function (err) {
                           console.log(err)

                       }
                   )
               },



           },
           created:function () {
              this.getWorkers();
              this.getCompanyName();
           },
           mounted:function () {

           }
       })
   </script>
 

</body>

</html>
