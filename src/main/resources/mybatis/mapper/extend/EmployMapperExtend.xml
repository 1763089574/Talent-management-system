<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="net.suncaper.demo.mapper.EmployMapper">
    <resultMap id="EmployExtendResultMap" type="net.suncaper.demo.common.domain.Employ">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Tue Mar 02 21:59:25 GMT+08:00 2021.
        -->

            <id column="Id" jdbcType="INTEGER" property="id"/>
            <result column="Company_id" jdbcType="INTEGER" property="companyId"/>
            <result column="Worker_id" jdbcType="INTEGER" property="workerId"/>
            <result column="start_date" jdbcType="DATE" property="startDate"/>
            <result column="end_date" jdbcType="DATE" property="endDate"/>
            <result column="name" jdbcType="VARCHAR" property="companyName"/>

    </resultMap>
    <select id="getPassCompanyList" resultMap="EmployExtendResultMap" parameterType="INTEGER">
        select company.name,end_date,start_date
        from company, employ where company.Id = employ.Company_id AND employ.end_date is not null AND employ.Worker_id = #{workerid}
    </select>
</mapper>